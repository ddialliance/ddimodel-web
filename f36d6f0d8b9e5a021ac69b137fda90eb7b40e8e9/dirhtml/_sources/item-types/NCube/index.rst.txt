NCube
-----

An NCube is a 1..n dimension structure which relates a set of individual values to each other by defining them within a matrix. The NCube may be the result of aggregations, cross-tabulation, time-series, etc. The NCube is described by its dimensions which are represented by categorical variables (variables with a set number of values of specific definition that can be used to identify a specific cell as part of a matrix address). The resulting cells can contain one or more measures, also defined by variables. In addition to the standard name, label, and description of the NCube, it contains a reference to a universe, defines both the normal source of the data in the cells and unit of analysis, the purpose of creating the structured data, the dimensions and measures, as well as the ability to attached any other attribute (i.e., footnote, cell or region specific note) to a specified area of the NCube. Three attribute serve as informational check values; dimensionCount, cellCount, and isClean.

.. contents::

Item Type Hierarchy
~~~~~~~~~~~~~~~~~~~

* :doc:`/item-types/Versionable/index`
    * **NCube**


Relationships
~~~~~~~~~~~~~
.. container:: image

   |stub|

.. |stub| image:: ../../images/NCube.svg

Properties
~~~~~~~~~~

NCubeName
*********

Type
    :doc:`/composite-types/NameType/index`
Cardinality
    0..n

DDI namespace
    Element in ddi:logicalproduct:3_2

A name for the NCube. May be expressed in multiple languages. Repeat the element to express names with different content, for example different names for different systems.

Label
*****

Type
    :doc:`/composite-types/LabelType/index`
Cardinality
    0..n

DDI namespace
    Element in ddi:reusable:3_2

A display label for the NCube. May be expressed in multiple languages. Repeat for labels with different content, for example, labels with differing length limitations.

Description
***********

Type
    :doc:`/composite-types/StructuredStringType/index`
Cardinality
    0..1

DDI namespace
    Element in ddi:reusable:3_2

A description of the content and structure of the NCube. May be expressed in multiple languages and supports the use of structured content.

UniverseReference
*****************

Type
    :doc:`/item-types/Universe/index`
Cardinality
    0..n

DDI namespace
    Element in ddi:reusable:3_2

Reference to an imputation process described as a GeneralInstruction or GenerationInstruction held in a ProcessingInstructionScheme.

ImputationReference_GeneralInstruction
**************************************

Type
    :doc:`/item-types/GeneralInstruction/index`
Cardinality
    0..1

DDI namespace
    Element in ddi:logicalproduct:3_2

The normal source of the information contained in the NCube. In the case of a survey this may be a respondent, proxy, interviewer, or other source. In the case of administrative data the position of a field on a form e.g., "top of page", "item 3", "generated by data processor", etc.

ImputationReference_GenerationInstruction
*****************************************

Type
    :doc:`/item-types/GenerationInstruction/index`
Cardinality
    0..1

DDI namespace
    Element in ddi:logicalproduct:3_2

The normal source of the information contained in the NCube. In the case of a survey this may be a respondent, proxy, interviewer, or other source. In the case of administrative data the position of a field on a form e.g., "top of page", "item 3", "generated by data processor", etc.

SourceUnit
**********

Type
    :doc:`/composite-types/CodeValueType/index`
Cardinality
    0..1

DDI namespace
    Element in ddi:logicalproduct:3_2

The normal source of the information contained in the NCube. In the case of a survey this may be a respondent, proxy, interviewer, or other source. In the case of administrative data the position of a field on a form e.g., "top of page", "item 3", "generated by data processor", etc. Supports the use of an external controlled vocabulary.

AnalysisUnit
************

Type
    :doc:`/composite-types/CodeValueType/index`
Cardinality
    0..1

DDI namespace
    Element in ddi:reusable:3_2

The entity to which the data refer, for example, individuals, families or households, groups, institutions/organizations, administrative units, etc. Supports the use of an external controlled vocabulary.

Purpose
*******

Type
    :doc:`/composite-types/StructuredStringType/index`
Cardinality
    0..1

DDI namespace
    Element in ddi:reusable:3_2

Purpose for which the NCube was created. For example, designed to support a set of age pyramids generated yearly.

Dimension
*********

Type
    :doc:`/composite-types/DimensionType/index`
Cardinality
    0..n

DDI namespace
    Element in ddi:logicalproduct:3_2

NCubes are defined by their dimensions. A dimension is provided a rank and a reference to a variable that describes it. Cell locations are "addressed" by the value of their intersect on each dimension provided in rank order.

CoordinateRegion
****************

Type
    :doc:`/composite-types/CoordinateRegionType/index`
Cardinality
    0..n

DDI namespace
    Element in ddi:logicalproduct:3_2

Defines the area of attachment for an attribute. It may be defined as the NCube as a whole or as certain dimensions or values of dimensions.

MeasureDefinition
*****************

Type
    :doc:`/composite-types/MeasureDefinitionType/index`
Cardinality
    0..n

DDI namespace
    Element in ddi:logicalproduct:3_2

Defines the structure and type of measure captured within the cells. This may be repeated to describe multiple measure for the cells (i.e., count, percent of universe, dimensional percent, index, text, suppression flag, etc.).

Attribute
*********

Type
    :doc:`/composite-types/AttributeType/index`
Cardinality
    0..n

DDI namespace
    Element in ddi:logicalproduct:3_2

An attribute may be any object which should be attached to all or part of the NCube. It may be defined as a Variable or contain textual content (such as a footnote).

DimensionCount
**************

Type
    int
Cardinality
    0..1

The number of dimensions found in the NCube. Caution in using optional checksums is recommended. Conflict between checksums and the items being counted can cause problems with warning flags during processing. If using checksum to capture information for internal processing purposes, the use of automatically generated check sums is strongly urged.

CellCount
*********

Type
    int
Cardinality
    0..1

The number of cells (measures) found in the NCube. Note that this is the number of cells produced by dimension structure not the number of cells containing data in a sparse NCube. Caution in using optional checksums is recommended. Conflict between checksums and the items being counted can cause problems with warning flags during processing. If using checksum to capture information for internal processing purposes, the use of automatically generated check sums is strongly urged.

IsClean
*******

Type
    boolean
Cardinality
    0..1

A value of "true" indicates that all cells have the potential for content values. If set to "false" Attribute and CoordinateRegion should be used to define the sparse areas of the NCube, those that have no content by definition. For example a cross-tabulation between Household Type (Family, Non-Family) and Number of persons in Household (1,2,3,4,5,6,7+) would need an attribute for Family/1 Person as this will always be empty due to the definition of Family as two or more related persons.



